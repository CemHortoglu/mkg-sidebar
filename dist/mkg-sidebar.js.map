{"version":3,"sources":["mkg-sidebar.es6"],"names":[],"mappings":"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","file":"mkg-sidebar.js","sourcesContent":["/**\r\n * mkg-sidebar\r\n * https://github.com/mkg0/mkg-sidebar\r\n */\r\n class mSidebar{\r\n    _itemToHTML({title,text,link,callback=null,follow=true,items=[]},depth=0){\r\n        if(link && link.search(/^(https?|ftp):/) !== 0)\r\n            link= this.options.baseURL.replace(/\\/$/,'') + '/' + link.replace(/^\\//,'');\r\n        var result;\r\n        var mItem = document.createElement(link ? 'a' : 'div');\r\n        mItem.textContent = text\r\n        if (link) {\r\n            mItem.setAttribute('href',link);\r\n            mItem.setAttribute('title',title ? title : text);\r\n            mItem.setAttribute('follow', follow? 'follow' :'nofollow');\r\n        }\r\n        if (callback) mItem.addEventListener('click',callback.bind({title,text,link, follow,depth}))\r\n\r\n        if (items.length === 0) {\r\n            mItem.setAttribute('class',`mSidebar-item mSidebar--d${depth}`);\r\n            result = mItem\r\n        } else {\r\n            if (link)\r\n                mItem.setAttribute('class',`mSidebar-collapse-header mSidebar--d${depth}`);\r\n            else\r\n                mItem.setAttribute('class',`mSidebar-collapse-header mSidebar--d${depth} mSidebar-collapse--buttonrole`);\r\n            let linkHTML = link ?\r\n            `<a href=\"${link}\" title=\"${title ? title : text}\"${follow ? '' : ' rel=\"nofollow\"'} class=\"mSidebar-collapse-header mSidebar--d${depth}\">${text}</a>` :\r\n            `<div class=\"mSidebar-collapse-header mSidebar--d${depth} mSidebar-collapse--buttonrole\">${text}</div>`;\r\n            result = document.createElement('div');\r\n            result.setAttribute('class',`mSidebar-collapse mSidebar--d${depth}`)\r\n            result.innerHTML =`\r\n            <div class=\"mSidebar-collapse-button mSidebar--d${depth}\"></div>\r\n\r\n            <div class=\"mSidebar-collapse-items mSidebar--d${depth+1}\">\r\n            </div>`;\r\n            result.insertBefore(mItem, result.querySelector('.mSidebar-collapse-items'))\r\n            items.forEach(function (item) {\r\n                result.querySelector('.mSidebar-collapse-items').appendChild(this._itemToHTML(item,depth+1))\r\n            }.bind(this))\r\n        }\r\n\r\n        return result;\r\n    }\r\n    refreshItems(){\r\n        this.target.querySelector('.mSidebar-content').innerHTML=\"\"\r\n        for (let i in this.items) {\r\n            this.target.querySelector('.mSidebar-content').appendChild(this._itemToHTML(this.items[i]));\r\n        }\r\n        return this;\r\n    }\r\n    setContent(context){\r\n        this.target.querySelector('.mSidebar-content').innerHTML = document.querySelector(context).innerHTML;\r\n        return this;\r\n    }\r\n    setHeader(context){\r\n        this.target.querySelector('.mSidebar-header').innerHTML = document.querySelector(context).innerHTML;\r\n        return this;\r\n    }\r\n    setFooter(context){\r\n        this.target.querySelector('.mSidebar-footer').innerHTML = document.querySelector(context).innerHTML;\r\n        return this;\r\n    }\r\n    removeItems(){\r\n        this.items=[];\r\n        this.refreshItems();\r\n        return this;\r\n    }\r\n    addItemFrom(context){\r\n        let foundItems = document.querySelectorAll(context);\r\n        for (var i = 0; i < foundItems.length; i++) {\r\n            this.addItem({\r\n                title: foundItems[i].getAttribute('title') ? foundItems[i].getAttribute('title') : this.options.defaultTitle,\r\n                text:foundItems[i].innerHTML.replace(/<[^>]+>/g,''),\r\n                link: foundItems[i].getAttribute('href') ? foundItems[i].getAttribute('href') : '/',\r\n                callback: foundItems[i].getAttribute('onClick') ? foundItems[i].getAttribute('onClick') : null,\r\n                follow: foundItems[i].getAttribute('rel') === 'nofollow' ? false: this.options.defaultFollow\r\n            },false)\r\n        }\r\n        this.refreshItems();\r\n        return this;\r\n    }\r\n    addItem({title,text,link,callback=null,follow=true,items=[]},refresh=true){\r\n        if(arguments.length ===0) return false;\r\n        if (typeof arguments[0] === 'string'){\r\n            title=arguments[0];\r\n            text=arguments[0];\r\n            link=arguments[0].toLowerCase().replace(/[^a-z0-9]/,'');\r\n        }else if (Object.prototype.toString.call( arguments[0] ) == '[object Array]') {\r\n            var items = arguments[0];\r\n            for (var i = 0; i < items.length; i++) {\r\n                this.addItem(items[i],false);\r\n            }\r\n            if (refresh) this.refreshItems();\r\n            return this;\r\n        }\r\n        let newItem= {\r\n            title:title,\r\n            text:text,\r\n            link:link,\r\n            callback:callback,\r\n            follow:follow,\r\n            items:items\r\n        }\r\n        this.items.push(newItem);\r\n        if (refresh) this.refreshItems();\r\n        return this;\r\n    }\r\n    constructor(){\r\n        this.propertyName=null;\r\n        this.items=[];//{text:string,link:string,title:string,follow:bool}\r\n        this.options={\r\n            baseURL:'',\r\n            position:'left', // left, top, bottom, right\r\n            closeButton:true,\r\n            closeOnBackgroundClick:true,\r\n            animationType:'slide',\r\n            defaultTitle:'',\r\n            defaultFollow:true,\r\n            onOpen:null,\r\n            onClose:null,\r\n            autoCollapse:false// auto collapse on close\r\n        };\r\n        for (var i = 0; i < arguments.length; i++) {\r\n            let argument = arguments[i];\r\n            if (typeof  argument=== 'string') {\r\n                this.propertyName = argument;\r\n            }else if (Object.prototype.toString.call( argument ) == '[object Array]') {\r\n                for (var i2 = 0; i2 < argument.length; i2++) {\r\n                    this.addItem(argument[i2],false);\r\n                }\r\n            }else if (typeof argument === 'object') {\r\n                for (let variable in argument) {\r\n                    this.options[variable] = argument[variable];\r\n                }\r\n            }else if (typeof argument === 'function') {\r\n                this.options.onOpen = argument;\r\n            }\r\n        }\r\n\r\n\r\n        let newBar = document.createElement('aside');\r\n        this.target= newBar;\r\n        newBar.className +=` mSidebar mSidebar--${this.options.animationType} mSidebar--${this.options.position}`;\r\n        newBar.innerHTML =\r\n        `<div class=\"mSidebar-container\">\r\n            <header>\r\n                ${this.options.closeButton ? '<div class=\"mSidebar-close\"></div>' : ''}\r\n                <div class=\"mSidebar-header\"></div>\r\n            </header>\r\n            <div class=\"mSidebar-content\"></div>\r\n            <footer class=\"mSidebar-footer\"></footer>\r\n        </div>`;\r\n        this.refreshItems();\r\n        document.body.appendChild(newBar);\r\n        if (this.propertyName) {\r\n            eval(`mSidebar.${this.propertyName}=this`);\r\n        }\r\n        if (this.options.closeButton) {\r\n            newBar.querySelector(\".mSidebar-close\").addEventListener('click',this.close.bind(this));\r\n        }\r\n        newBar.addEventListener('click',this._onClick.bind(this));\r\n\r\n        return this;\r\n    }\r\n\r\n    _onClick(e){\r\n        if (e.target === this.target && this.options.closeOnBackgroundClick) {\r\n            this.close.call(this);\r\n        }\r\n        let clsName= ' ' + e.target.className + ' ';\r\n        if (clsName.indexOf(\"mSidebar-collapse-button\") > -1 || clsName.indexOf(\"mSidebar-collapse--buttonrole\") > -1){\r\n            let parent = e.target.parentNode;\r\n            if ( ( ' ' + parent.className + ' ').indexOf(' mSidebar-collapse--open ') > -1 ) {\r\n                parent.className = parent.className.replace(/( |$)mSidebar-collapse--open/,'');\r\n            }else {\r\n                parent.className += ' mSidebar-collapse--open';\r\n            }\r\n        }\r\n    }\r\n    open(){\r\n        // setInterval(function () {\r\n        //     this.uncollapse();\r\n        // }.bind(this),4000);\r\n        if ((' ' + this.target.className + ' ').indexOf(\" mSidebar--close \") > -1 )\r\n        this.target.className = this.target.className.replace('mSidebar--close','mSidebar--open');\r\n        else\r\n            this.target.className += ' mSidebar--open';\r\n        if (this.options.onOpen) {\r\n            this.options.onOpen.call(this);\r\n        }\r\n        return this;\r\n    }\r\n    close(){\r\n        this.target.className = this.target.className.replace('mSidebar--open','mSidebar--close');\r\n        if (this.options.autoCollapse) this.collapse();\r\n        if (this.options.onClose) this.options.onClose.call(this);\r\n        return this;\r\n    }\r\n    toggle(){\r\n        if ((' ' + this.target.className + ' ').indexOf(\" mSidebar--open \") > -1 )\r\n            this.close();\r\n        else\r\n            this.open();\r\n        return this;\r\n    }\r\n    collapse(){\r\n        let foundItems = this.target.querySelectorAll('.mSidebar-collapse--open');\r\n        for (var i = 0; i < foundItems.length; i++) {\r\n            foundItems[i].className= foundItems[i].className.replace(/ ?mSidebar-collapse--open/,'');\r\n        }\r\n        return this;\r\n    }\r\n    uncollapse(){\r\n        let foundItems = this.target.querySelectorAll('.mSidebar-collapse:not(.mSidebar-collapse--open)');\r\n        for (var i = 0; i < foundItems.length; i++) {\r\n            foundItems[i].className += ' mSidebar-collapse--open';\r\n        }\r\n        return this;\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}